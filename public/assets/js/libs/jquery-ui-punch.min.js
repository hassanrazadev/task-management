/*!
 * jQuery UI Touch Punch Fork 0.4.0
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */ !function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/mouse"],t):t(jQuery)}(function(t){if(t.support.touch="ontouchend"in document||"onpointerdown"in document||"onMSPointerDown"in document,t.support.touch){var o,e,n=t.ui.mouse.prototype,u=n._mouseInit,i=n._mouseDestroy;return n._touchStart=function(t){var n=this,u=t.originalEvent.changedTouches[0];n._touchMoved=!1,n._touchStartTime=new Date().getTime(),n._touchStartX=u.clientX,n._touchStartY=u.clientY,!o&&n._mouseCapture(u)&&(o=!0,c(t,"mouseover"),c(t,"mousemove"),c(t,"mousedown"),e=setTimeout(function(){n._touchMoved||(t.longTap=!0,n._touchEnd(t))},750))},n._touchMove=function(t){if(o){var e=t.originalEvent.changedTouches[0],n=new Date().getTime()-this._touchStartTime,u=Math.abs(e.clientX-this._touchStartX),i=Math.abs(e.clientY-this._touchStartY);(n>150||u>5||i>5)&&(this._touchMoved=!0),c(t,"mousemove")}},n._touchEnd=function(t){o&&(c(t,"mouseup"),c(t,"mouseout"),this._touchMoved||(t.longTap?c(t,"contextmenu"):c(t,"click")),clearTimeout(e),o=!1)},n._mouseInit=function(){this.element.on({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),navigator.userAgent.match("MSIE")&&this.element.css("-ms-touch-action","none"),u.call(this)},n._mouseDestroy=function(){this.element.off({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),i.call(this)},t}function c(o,e){if(!(o.originalEvent.touches.length>1)){var n=o.originalEvent.changedTouches[0],u=document.createEvent("MouseEvents");t(n.target).is("input")||t(n.target).is("textarea")?o.stopPropagation():o.preventDefault(),u.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX+t(window).scrollLeft(),n.clientY+t(window).scrollTop(),!1,!1,!1,!1,0,null),o.target.dispatchEvent(u)}}});
